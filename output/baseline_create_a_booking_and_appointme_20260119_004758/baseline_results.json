{
  "success": true,
  "vibe_prompt": "Create a booking and appointment scheduling system with calendar view, availability management, reminders, and customer management, which sould have minimum features : define service types and durations, set available time slots, calendar view of appointments, customer booking interface, prevent double-booking, customer database with history, email/notification reminders, reschedule and cancel appointments, daily/weekly schedule overview, booking confirmation system",
  "project_dir": "output\\baseline_create_a_booking_and_appointme_20260119_004758",
  "output": {
    "user_stories": [
      {
        "id": "US001",
        "title": "Define Service Types",
        "description": "As an admin, I want to define service types and durations so that customers can book specific services.",
        "priority": "high"
      },
      {
        "id": "US002",
        "title": "Set Available Time Slots",
        "description": "As an admin, I want to set available time slots to manage when appointments can be booked.",
        "priority": "high"
      },
      {
        "id": "US003",
        "title": "Calendar View",
        "description": "As a user, I want to see a calendar view of appointments to visualize the schedule.",
        "priority": "high"
      },
      {
        "id": "US004",
        "title": "Customer Booking",
        "description": "As a customer, I want to book an appointment through an interface to schedule services.",
        "priority": "high"
      },
      {
        "id": "US005",
        "title": "Prevent Double-Booking",
        "description": "As a system, I want to prevent double-booking to avoid scheduling conflicts.",
        "priority": "high"
      },
      {
        "id": "US006",
        "title": "Customer Database",
        "description": "As an admin, I want to maintain a customer database with history to track appointments.",
        "priority": "medium"
      },
      {
        "id": "US007",
        "title": "Email Reminders",
        "description": "As a system, I want to send email reminders to customers about upcoming appointments.",
        "priority": "medium"
      },
      {
        "id": "US008",
        "title": "Reschedule/Cancel",
        "description": "As a customer, I want to reschedule or cancel appointments to manage my bookings.",
        "priority": "medium"
      },
      {
        "id": "US009",
        "title": "Schedule Overview",
        "description": "As an admin, I want a daily/weekly schedule overview to manage appointments efficiently.",
        "priority": "medium"
      },
      {
        "id": "US010",
        "title": "Booking Confirmation",
        "description": "As a customer, I want to receive a booking confirmation to verify my appointment.",
        "priority": "high"
      }
    ],
    "backend_code": "from fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\nfrom datetime import datetime, timedelta\nfrom typing import List, Dict\nimport smtplib\n\napp = FastAPI()\n\n# In-memory storage\nservices = []\nslots = []\nappointments = []\ncustomers = []\n\nclass Service(BaseModel):\n    id: int\n    name: str\n    duration: int  # minutes\n\nclass Slot(BaseModel):\n    id: int\n    start_time: datetime\n    end_time: datetime\n\nclass Customer(BaseModel):\n    id: int\n    name: str\n    email: str\n\nclass Appointment(BaseModel):\n    id: int\n    customer_id: int\n    service_id: int\n    slot_id: int\n    status: str = 'confirmed'\n\n@app.post('/services/')\ndef create_service(service: Service):\n    services.append(service)\n    return service\n\n@app.get('/slots/')\ndef get_available_slots():\n    return [s for s in slots if s.id not in [a.slot_id for a in appointments]]\n\n@app.post('/book/')\ndef book_appointment(appointment: Appointment):\n    if appointment.slot_id in [a.slot_id for a in appointments]:\n        raise HTTPException(status_code=400, detail='Slot already booked')\n    appointments.append(appointment)\n    # Send confirmation email (simulated)\n    print(f'Email sent to customer for appointment {appointment.id}')\n    return appointment\n\n@app.get('/appointments/')\ndef list_appointments():\n    return appointments\n\n@app.post('/reminders/')\ndef send_reminders():\n    for app in appointments:\n        print(f'Reminder sent for appointment {app.id}')\n    return {'message': 'Reminders sent'}\n",
    "frontend_code": "<!DOCTYPE html>\n<html>\n<head>\n    <title>Booking System</title>\n    <style>\n        body { font-family: Arial; margin: 20px; }\n        .calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; }\n        .day { border: 1px solid #ccc; padding: 10px; }\n        .booked { background-color: #ffcccc; }\n        .available { background-color: #ccffcc; }\n    </style>\n</head>\n<body>\n    <h1>Appointment Booking System</h1>\n    <div>\n        <h2>Book Appointment</h2>\n        <form id='bookingForm'>\n            <label>Name: <input type='text' id='name' required></label><br>\n            <label>Email: <input type='email' id='email' required></label><br>\n            <label>Service: \n                <select id='service'>\n                    <option value='1'>Haircut (30 min)</option>\n                    <option value='2'>Massage (60 min)</option>\n                </select>\n            </label><br>\n            <label>Date: <input type='date' id='date' required></label><br>\n            <label>Time: <input type='time' id='time' required></label><br>\n            <button type='submit'>Book Now</button>\n        </form>\n    </div>\n    <div>\n        <h2>Calendar View</h2>\n        <div class='calendar' id='calendar'></div>\n    </div>\n    <script>\n        async function loadCalendar() {\n            const res = await fetch('/appointments/');\n            const apps = await res.json();\n            const calendar = document.getElementById('calendar');\n            calendar.innerHTML = '';\n            for (let i = 1; i <= 7; i++) {\n                const day = document.createElement('div');\n                day.className = 'day';\n                day.textContent = `Day ${i}`;\n                if (apps.some(a => a.slot_id === i)) {\n                    day.classList.add('booked');\n                    day.textContent += ' (Booked)';\n                } else {\n                    day.classList.add('available');\n                    day.textContent += ' (Available)';\n                }\n                calendar.appendChild(day);\n            }\n        }\n        document.getElementById('bookingForm').addEventListener('submit', async (e) => {\n            e.preventDefault();\n            const appointment = {\n                customer_id: 1,\n                service_id: parseInt(document.getElementById('service').value),\n                slot_id: 1,\n                status: 'confirmed'\n            };\n            const res = await fetch('/book/', {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify(appointment)\n            });\n            if (res.ok) {\n                alert('Booking confirmed!');\n                loadCalendar();\n            } else {\n                alert('Booking failed: Slot may be taken.');\n            }\n        });\n        loadCalendar();\n    </script>\n</body>\n</html>",
    "test_summary": "pass"
  },
  "error": null
}