{
  "files": [
    {
      "filename": "index.html",
      "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>E-Learning Platform</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; }\n        h1, h2 { color: #333; }\n        button { margin: 5px; padding: 10px; background: #007bff; color: white; border: none; cursor: pointer; }\n        button:hover { background: #0056b3; }\n        .section { border: 1px solid #ccc; padding: 15px; margin: 10px 0; }\n        #result { margin-top: 20px; padding: 10px; background: #f8f9fa; }\n        input { margin: 5px; padding: 8px; width: 200px; }\n        .error { color: red; }\n    </style>\n</head>\n<body>\n    <h1>E-Learning Platform</h1>\n    \n    <div class=\"section\">\n        <h2>Courses</h2>\n        <button onclick=\"listCourses()\">List Courses</button>\n        <button onclick=\"createCourse()\">Create Course</button>\n        <div id=\"courses\"></div>\n    </div>\n    \n    <div class=\"section\">\n        <h2>Lessons</h2>\n        <input id=\"courseId\" placeholder=\"Course ID\" type=\"number\">\n        <button onclick=\"addLesson()\">Add Lesson</button>\n        <input id=\"lessonId\" placeholder=\"Lesson ID\" type=\"number\">\n        <button onclick=\"markLessonComplete()\">Mark Complete</button>\n    </div>\n    \n    <div class=\"section\">\n        <h2>Quizzes</h2>\n        <button onclick=\"createQuiz()\">Create Quiz</button>\n        <input id=\"quizId\" placeholder=\"Quiz ID\" type=\"number\">\n        <button onclick=\"submitQuiz()\">Submit Quiz</button>\n    </div>\n    \n    <div class=\"section\">\n        <h2>Learner</h2>\n        <button onclick=\"enrollCourse()\">Enroll</button>\n        <button onclick=\"getDashboard()\">Dashboard</button>\n    </div>\n    \n    <div id=\"result\"></div>\n    \n    <script>\n        const API_BASE = 'http://localhost:8000/api';\n        const learnerId = 1;\n        \n        function listCourses() {\n            fetch(`${API_BASE}/courses`)\n                .then(res => res.json())\n                .then(data => {\n                    document.getElementById('courses').innerHTML = data.map(c => \n                        `<div><h3>${c.title}</h3><p>${c.description}</p></div>`\n                    ).join('');\n                    showResult('Courses loaded');\n                })\n                .catch(err => showError(err));\n        }\n        \n        function createCourse() {\n            const title = prompt('Course title:');\n            const desc = prompt('Description:');\n            if (!title || !desc) return showError('Missing fields');\n            fetch(`${API_BASE}/courses`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ title, description: desc, instructor_id: 1 })\n            })\n            .then(res => res.json())\n            .then(data => showResult('Course created: ' + data.id))\n            .catch(err => showError(err));\n        }\n        \n        function addLesson() {\n            const courseId = document.getElementById('courseId').value;\n            const title = prompt('Lesson title:');\n            if (!courseId || !title) return showError('Missing fields');\n            fetch(`${API_BASE}/courses/${courseId}/lessons`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ title, content_type: 'text', content_url: '', order: 1 })\n            })\n            .then(res => res.json())\n            .then(data => showResult('Lesson added: ' + data.id))\n            .catch(err => showError(err));\n        }\n        \n        function markLessonComplete() {\n            const lessonId = document.getElementById('lessonId').value;\n            if (!lessonId) return showError('Enter Lesson ID');\n            fetch(`${API_BASE}/lessons/${lessonId}/complete`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' }\n            })\n            .then(res => res.json())\n            .then(data => showResult('Lesson marked complete'))\n            .catch(err => showError(err));\n        }\n        \n        function createQuiz() {\n            const lessonId = prompt('Lesson ID for quiz:');\n            if (!lessonId) return showError('Enter Lesson ID');\n            const questions = {\n                multiple_choice: [\n                    { question: 'Sample question', options: ['A', 'B', 'C'], answer: 0 }\n                ]\n            };\n            fetch(`${API_BASE}/lessons/${lessonId}/quiz`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ title: 'Quiz', questions, passing_score: 70 })\n            })\n            .then(res => res.json())\n            .then(data => showResult('Quiz created: ' + data.id))\n            .catch(err => showError(err));\n        }\n        \n        function submitQuiz() {\n            const quizId = document.getElementById('quizId').value;\n            if (!quizId) return showError('Enter Quiz ID');\n            fetch(`${API_BASE}/quizzes/${quizId}/submit`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ answers: {} })\n            })\n            .then(res => res.json())\n            .then(data => showResult(`Quiz graded: ${data.score}% (Pass: ${data.passed})`))\n            .catch(err => showError(err));\n        }\n        \n        function enrollCourse() {\n            const courseId = prompt('Course ID to enroll:');\n            if (!courseId) return showError('Enter Course ID');\n            fetch(`${API_BASE}/courses/${courseId}/enroll`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ learner_id: learnerId })\n            })\n            .then(res => res.json())\n            .then(data => showResult('Enrolled: ' + data.id))\n            .catch(err => showError(err));\n        }\n        \n        function getDashboard() {\n            fetch(`${API_BASE}/learners/${learnerId}/dashboard`)\n                .then(res => res.json())\n                .then(data => showResult('Dashboard: ' + JSON.stringify(data)))\n                .catch(err => showError(err));\n        }\n        \n        function showResult(msg) {\n            document.getElementById('result').innerHTML = `<span>${msg}</span>`;\n        }\n        \n        function showError(err) {\n            document.getElementById('result').innerHTML = `<span class=\"error\">Error: ${err}</span>`;\n        }\n    </script>\n</body>\n</html>",
      "description": "Main HTML page with all API endpoints, error handling, and support for lessons, quizzes, completion tracking"
    }
  ],
  "setup_instructions": "Open index.html in browser after starting backend with: pip install fastapi uvicorn && uvicorn main:app --reload"
}